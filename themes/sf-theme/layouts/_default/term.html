{{ define "main" }}
<div class="container px-4 pt-20 mx-auto">
{{- if .Content -}}
  <h1 id="title">{{ .Title }}</h1>
  <article id="content">{{ .Content }}</article>
{{- else -}}
  <h1 id="title">Pages in the '{{ .Title }}' {{ .Data.Singular }}</h1>
{{- end -}}

<p>Pages in the {{ .Data.Singular }} {{ .Data.Singular }}
<pre>
Singular name: {{ .Data.Singular }}
Plural name: {{ .Data.Plural }}
Term: {{ .Data.Term }}
List of pages: {{ .Data.Pages }}
Taxonomy: {{ .Data.Terms }}
Taxonomy sorted: {{ .Data.Terms.Alphabetical }}
Taxonomy by count: {{ .Data.Terms.byCount }}

<ul>
{{ range $page := .Data.Pages }}
{{ .RelPermalink}}{{ .Permalink}}{{ .LinkTitle }}
  <li hugo-nav="{{ .RelPermalink}}">
      <a href="{{ .Permalink}}">{{ .LinkTitle }}</a>
  </li>
{{ end }}
</ul>

</pre>

  <section>
    <ul id="all-taxonomies">
        {{ range $taxonomy_term, $taxonomy := .Data.Terms }}asss
            {{ with $.Site.GetPage (printf "/%s" $taxonomy_term) }}
                <li><a href="{{ .Permalink }}">{{ $taxonomy_term }}</a>
                    <ul>
                        {{ range $key, $value := $taxonomy }}
                            <li>{{ $key }}</li>
                            <ul>
                                {{ range $value.Pages }}
                                    <li hugo-nav="{{ .RelPermalink}}">
                                        <a href="{{ .Permalink}}">{{ .LinkTitle }}</a>
                                    </li>
                                {{ end }}
                            </ul>
                        {{ end }}
                    </ul>
                </li>
            {{ end }}
        {{ end }}
    </ul>
</section>
</div>
{{ end }}
